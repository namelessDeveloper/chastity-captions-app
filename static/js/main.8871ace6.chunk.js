(this["webpackJsonpchastity-choice-app"]=this["webpackJsonpchastity-choice-app"]||[]).push([[0],{38:function(t,e,n){"use strict";n.r(e);var c,r,o,i,a,s,u=n(4),d=n(0),l=n.n(d),b=n(21),j=n.n(b),p=n(13),f="#44ca44",h="red",O=n(5),x=Object(O.b)(c||(c=Object(u.a)(["\n  pointer-events: none;\n  & ::before {\n    background: black;\n    mix-blend-mode: saturation;\n  }\n"]))),g=O.c.div(r||(r=Object(u.a)(["\n  ","\n  display:flex;\n  flex-direction: ",";\n  // TODO min-width\n  min-width: ","px;\n  border: 5px solid ",";\n  border-radius: 1em;\n  & img {\n    border-top-left-radius: 0.5em;\n    border-top-right-radius: 0.5em;\n  }\n  padding: 1em;\n  cursor: pointer;\n  user-select: none;\n"])),(function(t){return t.affordable?"":x}),(function(t){return t.direction}),(function(t){return t.width&&t.width}),(function(t){return t.toggled?t.toggleColor:"black"})),m=n(1),v=function(t){var e=t.src,n=t.width,c=void 0===n?200:n;return Object(m.jsx)("img",{src:e,style:{width:"".concat(c,"px"),height:"auto"}})};function y(t){if(t){if(t>0)return'<span style="color:'.concat(f,'">').concat(t,"</span>");if(t<0)return'<span style="color:'.concat(h,'">').concat(t,"</span>")}return t}var w,k,C,S=Object(O.b)(o||(o=Object(u.a)(["\n  width: min-content;\n"]))),L=O.c.div(i||(i=Object(u.a)(["\n  ","\n"])),(function(t){return t.noHeader?"":S})),H=O.c.h4(a||(a=Object(u.a)(["\n  white-space: nowrap;\n"]))),I=O.c.p(s||(s=Object(u.a)(["\n"]))),_=function(t){var e=t.body,n=t.header,c=t.cost;return Object(m.jsxs)(L,{noHeader:void 0==n,children:[n&&Object(m.jsx)(H,{dangerouslySetInnerHTML:{__html:"".concat(n," [").concat(y(c),"]")}}),e&&Object(m.jsx)(I,{dangerouslySetInnerHTML:{__html:e}})]})},E=O.c.div(w||(w=Object(u.a)(["\n  background-color: ",";\n  color: White;\n  font-weight: 700;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  padding: 0 1em;\n  border: 3px solid white;\n  border-radius: .5em;\n"])),(function(t){return t.color||"#a80eb6"})),J=function(t){var e=t.text,n=t.color;return Object(m.jsx)(E,{color:n,children:e})},M=function(t){var e=t.data,n=t.onClick,c=Object(d.useState)(!1),r=Object(p.a)(c,2),o=r[0],i=r[1];return Object(m.jsx)(g,{toggled:o,toggleColor:e.cost&&e.cost>0?f:h,onClick:function(){e.cost&&n&&(o?(n(-e.cost),i(!1)):(n(e.cost),i(!0)))},direction:e.direction||"row",width:e.width,affordable:!0,children:e.parts.map((function(t,n){switch(t.type){case"image":return Object(m.jsx)(v,{src:t.src,width:t.width},n);case"text":return Object(m.jsx)(_,{cost:e.cost,body:t.body,header:t.header},n);case"title":return Object(m.jsx)(J,{cost:e.cost,text:t.text},n);default:return null}}))})};var N=O.c.div(C||(C=Object(u.a)(["\n  display:flex;\n  ","\n  flex-wrap: wrap;\n"])),(function(t){return function(t){if(t)return Object(O.b)(k||(k=Object(u.a)(["flex-direction: ",";"])),t)}(t.direction)})),T=function(t){var e=t.data,n="none"!==e.type?function(t){return console.log(t)}:void 0;return"multiple"==e.type||"single"==e.type?Object(m.jsx)(N,{direction:e.direction,children:e.items.map((function(t,e){return Object(m.jsx)(M,{data:t,onClick:n},e)}))}):Object(m.jsx)(N,{direction:e.direction,children:e.items.map((function(t,e){return Object(m.jsx)(M,{data:t},e)}))})},A=n(2),D=n(17),B=n.n(D),F=n(25);function G(){return(G=Object(F.a)(B.a.mark((function t(e,n){var c,r;return B.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(e.length>=30)){t.next=9;break}return t.next=3,fetch("https://api.github.com/gists/".concat(e));case 3:return c=t.sent,t.next=6,c.json();case 6:return r=t.sent,console.log(r),t.abrupt("return",JSON.parse(r.files[n||"cyoa.json"].content));case 9:if(0!==e.length){t.next=11;break}return t.abrupt("return",null);case 11:throw Error("Gist must be 32 characters long");case 12:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function R(){var t=Object(d.useState)(null),e=Object(p.a)(t,2),n=e[0],c=e[1],r=Object(A.e)().pathname;return Object(d.useEffect)((function(){var t=r.substr(1).split("/").slice(1),e=Object(p.a)(t,2);(function(t,e){return G.apply(this,arguments)})(e[0],e[1]).then((function(t){t&&(c(t),console.log('Loaded "'.concat(null===t||void 0===t?void 0:t.title,'"')))}))}),[r]),n}var W,q=function(){var t=R(),e=Object(d.useRef)(null),n=Object(A.d)();return null!==t&&"cyoa"==t.type?Object(m.jsx)("div",{className:"App",children:t.sections.map((function(t,e){return Object(m.jsx)(T,{data:t},e)}))}):Object(m.jsxs)("div",{className:"App",children:[Object(m.jsx)("label",{htmlFor:"",children:"Load a config from a github gist:"}),Object(m.jsx)("input",{ref:e,type:"text",placeholder:"gistID"}),Object(m.jsx)("button",{onClick:function(){var t;return n.push((null===(t=e.current)||void 0===t?void 0:t.value)||"")},children:"Load"})]})},z=n(14),K=Object(O.a)(W||(W=Object(u.a)(["\n  body {\n    background:  black;\n    color: white;\n    font-family: sans-serif;\n  }\n"])));j.a.render(Object(m.jsx)(l.a.StrictMode,{children:Object(m.jsxs)(z.a,{children:[Object(m.jsx)(K,{}),Object(m.jsx)(q,{})]})}),document.getElementById("root"))}},[[38,1,2]]]);
//# sourceMappingURL=main.8871ace6.chunk.js.map